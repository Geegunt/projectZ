# –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ detail-page-svc

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
4. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
5. [API Endpoints](#api-endpoints)
6. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
7. [–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç—ã](#–ø–æ—à–∞–≥–æ–≤–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-–ø—Ä–æ–≤–µ—Ä–∫–µ-—Ä–∞–±–æ—Ç—ã)

---

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**detail-page-svc** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

- **–°–æ–±—ã—Ç–∏—è (events)** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- **–ü—Ä–æ–µ–∫—Ç—ã (projects)** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- **–°—Ç–∞—Ç—å–∏ (articles)** ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç—å–∏
- **–õ—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞** ‚Äî –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–∏–±–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
2. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** ‚Äî –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å—Ç–∞—Ç—É—Å—É
4. **–°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —á—Ç–µ–Ω–∏–∏
5. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** ‚Äî –≥–∏–±–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
6. **–°—Ç–∞—Ç—É—Å—ã** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü (draft, published, archived)
7. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** ‚Äî createdAt, updatedAt, publishedAt

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

- **Java 21** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Spring Boot 3.5.5** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Spring Data JPA** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **MapStruct** ‚Äî –º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤
- **Swagger/OpenAPI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Jakarta Validation** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture** –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª–æ—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Presentation Layer (HTTP Controllers) ‚îÇ
‚îÇ   - DetailPageController               ‚îÇ
‚îÇ   - GlobalExceptionHandler             ‚îÇ
‚îÇ   - DetailPageDtos (DTO)               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Application Layer (Business Logic)    ‚îÇ
‚îÇ   - DetailPageService                   ‚îÇ
‚îÇ   - DetailPageMapper                    ‚îÇ
‚îÇ   - DetailPageNotFoundException         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Domain Layer (Entities)               ‚îÇ
‚îÇ   - DetailPage                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Infrastructure Layer                  ‚îÇ
‚îÇ   - DetailPageRepository (JPA)          ‚îÇ
‚îÇ   - OpenApiConfig                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å–ª–æ–µ–≤:

1. **Presentation Layer** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã
2. **Application Layer** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
3. **Domain Layer** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
4. **Infrastructure Layer** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. Domain Layer (–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π)

#### `DetailPage.java` ‚Äî –°—É—â–Ω–æ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** JPA-—Å—É—â–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**

- **`id`** (Long) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- **`title`** (String) ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤)
- **`description`** (String) ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (TEXT, –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞)
- **`content`** (String) ‚Äî –ø–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å HTML –∏–ª–∏ Markdown (TEXT)
- **`pageType`** (String) ‚Äî —Ç–∏–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤)
  - –ü—Ä–∏–º–µ—Ä—ã: "event", "project", "article"
- **`metadata`** (Map<String, Object>) ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
  - –•—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ JSONB –≤ PostgreSQL
  - –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å: –¥–∞—Ç—ã, –ª–æ–∫–∞—Ü–∏–∏, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —Ç–µ–≥–∏, –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ
- **`imageUrl`** (String) ‚Äî URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –æ–±–ª–æ–∂–∫–∏
- **`status`** (String) ‚Äî —Å—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "draft")
  - "draft" ‚Äî —á–µ—Ä–Ω–æ–≤–∏–∫
  - "published" ‚Äî –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ
  - "archived" ‚Äî –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
- **`authorId`** (Long) ‚Äî ID –∞–≤—Ç–æ—Ä–∞/—Å–æ–∑–¥–∞—Ç–µ–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **`viewsCount`** (Long) ‚Äî —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- **`createdAt`** (OffsetDateTime) ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **`updatedAt`** (OffsetDateTime) ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **`publishedAt`** (OffsetDateTime) ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ö–µ–º—É `detail_page` –≤ PostgreSQL
- –ü–æ–ª–µ `metadata` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ JSONB –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö JSON-–∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ —á–µ—Ä–µ–∑ `@ColumnDefault`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

### 2. Application Layer (–°–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

#### `DetailPageService.java` ‚Äî –°–µ—Ä–≤–∏—Å –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏.

**–ú–µ—Ç–æ–¥—ã:**

1. **`getDetailPageById(Long id)`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ ID
   - **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - **–ü—Ä–æ—Ü–µ—Å—Å:**
     1. –ò—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ë–î –ø–æ ID
     2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `DetailPageNotFoundException`
     3. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `viewsCount` –Ω–∞ 1
     4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î
     5. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä
     6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO
   - **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è:** `@Transactional` ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

2. **`getAllDetailPages(String pageType, String status, Pageable pageable)`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
   - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
     - `pageType` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - `status` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - `pageable` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (—Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
   - **–ü—Ä–æ—Ü–µ—Å—Å:**
     1. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
     2. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –æ–±–∞ —Ñ–∏–ª—å—Ç—Ä–∞ ‚Äî `findByPageTypeAndStatus()`
     3. –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ç–∏–ø ‚Äî `findByPageType()`
     4. –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å ‚Äî `findByStatus()`
     5. –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–µ—Ç ‚Äî `findAll()`
     6. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—É—é Entity –≤ DTO —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä
     7. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Page —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
   - **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è:** `@Transactional(readOnly = true)` ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **`createDetailPage(DetailPageCreateRequest request, Long authorId)`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - **–ü—Ä–æ—Ü–µ—Å—Å:**
     1. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç DTO –∑–∞–ø—Ä–æ—Å–∞ –≤ Entity —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä
     2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `authorId` (–µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω)
     3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `createdAt` –∏ `updatedAt` –≤ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
     4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
     5. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO
     6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è:** `@Transactional` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

4. **`updateDetailPage(Long id, DetailPageUpdateRequest request)`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - **–ü—Ä–æ—Ü–µ—Å—Å:**
     1. –ò—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ë–î –ø–æ ID
     2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `DetailPageNotFoundException`
     3. –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è)
     4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `updatedAt` –≤ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
     5. **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "published" –∏ `publishedAt` –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ
     6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î
     7. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO
     8. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è:** `@Transactional` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

5. **`deleteDetailPage(Long id)`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - **–ü—Ä–æ—Ü–µ—Å—Å:**
     1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ ID
     2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `DetailPageNotFoundException`
     3. –£–¥–∞–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –ë–î
   - **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è:** `@Transactional` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### `DetailPageMapper.java` ‚Äî –ú–∞–ø–ø–µ—Ä
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (Entity ‚Üî DTO).

**MapStruct** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

**–ú–µ—Ç–æ–¥—ã:**

1. **`toDto(DetailPage entity)`**
   - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO –¥–ª—è –æ—Ç–≤–µ—Ç–∞
   - –ú–∞–ø–ø–∏—Ç –≤—Å–µ –ø–æ–ª—è –æ–¥–∏–Ω –≤ –æ–¥–∏–Ω

2. **`updateEntityFromRequest(DetailPageUpdateRequest request, DetailPage entity)`**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç Entity –∏–∑ DTO –∑–∞–ø—Ä–æ—Å–∞
   - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—è: `id`, `createdAt`, `updatedAt`, `viewsCount`, `publishedAt`
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è

3. **`toEntity(DetailPageCreateRequest request)`**
   - –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é Entity –∏–∑ DTO –∑–∞–ø—Ä–æ—Å–∞
   - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—è: `id`, `createdAt`, `updatedAt`, `viewsCount`, `publishedAt`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status` –≤ "draft" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

#### `DetailPageNotFoundException.java` ‚Äî –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.

---

### 3. Infrastructure Layer (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π)

#### `DetailPageRepository.java` ‚Äî –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Spring Data JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.

**–ú–µ—Ç–æ–¥—ã:**

1. **`findById(Long id)`** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ JpaRepository
2. **`findByPageType(String pageType, Pageable pageable)`** ‚Äî –ø–æ–∏—Å–∫ –ø–æ —Ç–∏–ø—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
3. **`findByStatus(String status, Pageable pageable)`** ‚Äî –ø–æ–∏—Å–∫ –ø–æ —Å—Ç–∞—Ç—É—Å—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
4. **`findByPageTypeAndStatus(String pageType, String status, Pageable pageable)`** ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫
5. **`existsById(Long id)`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
6. **`findAll(Pageable pageable)`** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Spring Data JPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `Pageable`
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL –≤—Ä—É—á–Ω—É—é

#### `OpenApiConfig.java` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swagger
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Swagger/OpenAPI –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API.

---

### 4. Presentation Layer (–°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)

#### `DetailPageController.java` ‚Äî REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏.

**Endpoints:**

1. **GET `/api/v1/detail-pages/{id}`**
   - –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ ID
   - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `DetailPageResponse`

2. **GET `/api/v1/detail-pages`**
   - –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é: `?pageType=event&status=published`
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é: `?page=0&size=20&sort=createdAt,desc`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `Page<DetailPageResponse>`

3. **POST `/api/v1/detail-pages`**
   - –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `DetailPageCreateRequest`
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫: `X-Author-Id` (ID –∞–≤—Ç–æ—Ä–∞)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `DetailPageResponse` (201 Created)

4. **PUT `/api/v1/detail-pages/{id}`**
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `DetailPageUpdateRequest`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `DetailPageResponse`

5. **DELETE `/api/v1/detail-pages/{id}`**
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 204 No Content

#### `DetailPageDtos.java` ‚Äî Data Transfer Objects
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** DTO –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º.

**–ö–ª–∞—Å—Å—ã:**

1. **`DetailPageResponse`** ‚Äî DTO –¥–ª—è –æ—Ç–≤–µ—Ç–∞
   - –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—É

2. **`DetailPageCreateRequest`** ‚Äî DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: `@NotBlank` –¥–ª—è `title` –∏ `pageType`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: `@Size` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –ø–æ–ª–µ–π
   - –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

3. **`DetailPageUpdateRequest`** ‚Äî DTO –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –í—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
   - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è

#### `GlobalExceptionHandler.java` ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**

1. **DetailPageNotFoundException** ‚Üí 404 Not Found
2. **MethodArgumentNotValidException** ‚Üí 400 Bad Request (–æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
3. **ConstraintViolationException** ‚Üí 400 Bad Request (–Ω–∞—Ä—É—à–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
4. **IllegalArgumentException** ‚Üí 400 Bad Request
5. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ** ‚Üí 500 Internal Server Error

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–µ:**
```json
{
  "errorId": "uuid",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 404,
  "code": "DETAIL_PAGE_NOT_FOUND",
  "message": "Detail page with id 1 not found",
  "path": "/api/v1/detail-pages/1",
  "details": {}
}
```

---

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /api/v1/detail-pages
   {
     "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
     "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
     "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
     "pageType": "event",
     "status": "draft",
     "metadata": {
       "date": "2024-12-25",
       "location": "–ú–æ—Å–∫–≤–∞"
     }
   }
   Headers: X-Author-Id: 123

2. DetailPageController ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ @Valid

3. DetailPageController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç DetailPageService.createDetailPage()

4. DetailPageService ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç DTO –≤ Entity
   ‚Üí DetailPageMapper.toEntity()

5. DetailPageService ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç authorId, createdAt, updatedAt

6. DetailPageService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
   ‚Üí DetailPageRepository.save()
   ‚Üí PostgreSQL: INSERT INTO detail_page.detail_pages ...

7. DetailPageService ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO
   ‚Üí DetailPageMapper.toDto()

8. DetailPageService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO

9. DetailPageController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DetailPageResponse (201 Created)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º —Å—á–µ—Ç—á–∏–∫–∞)

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí GET /api/v1/detail-pages/1

2. DetailPageController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç DetailPageService.getDetailPageById(1)

3. DetailPageService ‚Üí –∏—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ë–î
   ‚Üí DetailPageRepository.findById(1)
   ‚Üí PostgreSQL: SELECT * FROM detail_page.detail_pages WHERE id = 1

4. DetailPageService ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
   ‚Üí page.setViewsCount(page.getViewsCount() + 1)

5. DetailPageService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
   ‚Üí DetailPageRepository.save(page)
   ‚Üí PostgreSQL: UPDATE detail_page.detail_pages SET views_count = ... WHERE id = 1

6. DetailPageService ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO
   ‚Üí DetailPageMapper.toDto()

7. DetailPageService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO

8. DetailPageController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DetailPageResponse (200 OK)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí GET /api/v1/detail-pages?pageType=event&status=published&page=0&size=20&sort=createdAt,desc

2. DetailPageController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç DetailPageService.getAllDetailPages()

3. DetailPageService ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   ‚Üí pageType != null && status != null
   ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è findByPageTypeAndStatus()

4. DetailPageService ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üí DetailPageRepository.findByPageTypeAndStatus("event", "published", pageable)
   ‚Üí PostgreSQL: SELECT * FROM detail_page.detail_pages 
                 WHERE page_type = 'event' AND status = 'published' 
                 ORDER BY created_at DESC 
                 LIMIT 20 OFFSET 0

5. DetailPageService ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—É—é Entity –≤ DTO
   ‚Üí pages.map(detailPageMapper::toDto)

6. DetailPageService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Page<DetailPageResponse>

7. DetailPageController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Page —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (200 OK)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí PUT /api/v1/detail-pages/1
   {
     "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
     "status": "published"
   }

2. DetailPageController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç DetailPageService.updateDetailPage()

3. DetailPageService ‚Üí –∏—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ë–î
   ‚Üí DetailPageRepository.findById(1)

4. DetailPageService ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä
   ‚Üí DetailPageMapper.updateEntityFromRequest()
   ‚Üí –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è (title, status)

5. DetailPageService ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å
   ‚Üí status == "published" && publishedAt == null
   ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç publishedAt = now()

6. DetailPageService ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç updatedAt = now()

7. DetailPageService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
   ‚Üí DetailPageRepository.save(page)
   ‚Üí PostgreSQL: UPDATE detail_page.detail_pages 
                 SET title = ..., status = ..., published_at = ..., updated_at = ... 
                 WHERE id = 1

8. DetailPageService ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Entity –≤ DTO
   ‚Üí DetailPageMapper.toDto()

9. DetailPageService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO

10. DetailPageController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DetailPageResponse (200 OK)
```

---

## API Endpoints

### 1. GET `/api/v1/detail-pages/{id}` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ ID

**Request:**
```
GET /api/v1/detail-pages/1
```

**Response (200 OK):**
```json
{
  "id": 1,
  "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
  "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
  "pageType": "event",
  "metadata": {
    "date": "2024-12-25",
    "location": "–ú–æ—Å–∫–≤–∞"
  },
  "imageUrl": "https://example.com/image.jpg",
  "status": "published",
  "authorId": 123,
  "viewsCount": 42,
  "createdAt": "2024-01-01T12:00:00Z",
  "updatedAt": "2024-01-02T10:00:00Z",
  "publishedAt": "2024-01-02T10:00:00Z"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

---

### 2. GET `/api/v1/detail-pages` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü

**Request:**
```
GET /api/v1/detail-pages?pageType=event&status=published&page=0&size=20&sort=createdAt,desc
```

**Query Parameters:**
- `pageType` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `page` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- `size` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
- `sort` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `createdAt,desc`)

**Response (200 OK):**
```json
{
  "content": [
    {
      "id": 1,
      "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
      ...
    },
    {
      "id": 2,
      "title": "–î—Ä—É–≥–æ–µ —Å–æ–±—ã—Ç–∏–µ",
      ...
    }
  ],
  "pageable": {
    "pageNumber": 0,
    "pageSize": 20,
    "sort": {
      "sorted": true,
      "unsorted": false
    }
  },
  "totalElements": 100,
  "totalPages": 5,
  "last": false,
  "first": true,
  "numberOfElements": 20
}
```

---

### 3. POST `/api/v1/detail-pages` ‚Äî –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

**Request:**
```
POST /api/v1/detail-pages
Headers: X-Author-Id: 123
Content-Type: application/json

{
  "title": "–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
  "pageType": "event",
  "status": "draft",
  "metadata": {
    "date": "2024-12-25",
    "location": "–ú–æ—Å–∫–≤–∞"
  },
  "imageUrl": "https://example.com/image.jpg"
}
```

**Response (201 Created):**
```json
{
  "id": 1,
  "title": "–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ",
  ...
  "status": "draft",
  "authorId": 123,
  "viewsCount": 0,
  "createdAt": "2024-01-01T12:00:00Z",
  "updatedAt": "2024-01-01T12:00:00Z",
  "publishedAt": null
}
```

---

### 4. PUT `/api/v1/detail-pages/{id}` ‚Äî –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

**Request:**
```
PUT /api/v1/detail-pages/1
Content-Type: application/json

{
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  "status": "published"
}
```

**Response (200 OK):**
```json
{
  "id": 1,
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  ...
  "status": "published",
  "updatedAt": "2024-01-02T10:00:00Z",
  "publishedAt": "2024-01-02T10:00:00Z"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "published", –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `publishedAt`.

---

### 5. DELETE `/api/v1/detail-pages/{id}` ‚Äî –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

**Request:**
```
DELETE /api/v1/detail-pages/1
```

**Response (204 No Content):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `detailpage_db`
**–°—Ö–µ–º–∞:** `detail_page`
**–¢–∞–±–ª–∏—Ü–∞:** `detail_pages`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

```sql
CREATE TABLE detail_page.detail_pages (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR NOT NULL,
    description TEXT,
    content TEXT,
    page_type VARCHAR(50) NOT NULL,
    metadata JSONB NOT NULL DEFAULT '{}',
    image_url VARCHAR,
    status VARCHAR(20) NOT NULL DEFAULT 'draft',
    author_id BIGINT,
    views_count BIGINT NOT NULL DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
    published_at TIMESTAMP WITH TIME ZONE
);
```

### –ò–Ω–¥–µ–∫—Å—ã

```sql
CREATE INDEX idx_detail_pages_page_type ON detail_page.detail_pages(page_type);
CREATE INDEX idx_detail_pages_status ON detail_page.detail_pages(status);
CREATE INDEX idx_detail_pages_author_id ON detail_page.detail_pages(author_id);
CREATE INDEX idx_detail_pages_created_at ON detail_page.detail_pages(created_at DESC);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤:**
- `page_type` ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `status` ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `author_id` ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∞–≤—Ç–æ—Ä–∞
- `created_at` ‚Äî –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

**–î–ª—è —Å–æ–±—ã—Ç–∏—è (event):**
```json
{
  "date": "2024-12-25",
  "time": "18:00",
  "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1",
  "participants": 50,
  "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ", "–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"]
}
```

**–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (project):**
```json
{
  "startDate": "2024-01-01",
  "endDate": "2024-12-31",
  "budget": 100000,
  "team": ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä", "–ú–∞—Ä–∏—è"],
  "tags": ["–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", "–¥–µ—Ç–∏"]
}
```

**–î–ª—è —Å—Ç–∞—Ç—å–∏ (article):**
```json
{
  "category": "–Ω–æ–≤–æ—Å—Ç–∏",
  "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ", "–Ω–æ–≤–æ—Å—Ç–∏"],
  "readingTime": 5,
  "author": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
}
```

---

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### 1.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Java
```bash
java -version
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Java version "21" –∏–ª–∏ –≤—ã—à–µ

#### 1.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
```bash
docker --version
docker compose version
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í–µ—Ä—Å–∏–∏ Docker –∏ Docker Compose

#### 1.3. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /Users/glebgrigorev/Desktop/programming/projectEpsilan/detail-page-svc
```

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ PostgreSQL

#### 2.1. –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker compose -f docker/docker-compose.yml up -d
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 25433
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è SQL —Å–∫—Ä–∏–ø—Ç `init.sql` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã –∏ —Ç–∞–±–ª–∏—Ü—ã

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
[+] Running 2/2
 ‚úî Container postgresDb-detailpage  Started
```

#### 2.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker compose -f docker/docker-compose.yml ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
NAME                    STATUS
postgresDb-detailpage   Up
```

#### 2.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "SELECT 1;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 ?column?
----------
        1
(1 row)
```

#### 2.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "\dn"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ö–µ–º–∞ `detail_page`

#### 2.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "\dt detail_page.*"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `detail_pages`

#### 2.6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "\d detail_page.detail_pages"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Å—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü—ã

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 3.1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
./gradlew clean build -x test
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
BUILD SUCCESSFUL in Xs
```

#### 3.2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
./gradlew bootRun
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
> Task :bootRun

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.5.5)

... (–ª–æ–≥–∏ Spring Boot)

Started DetailPageApplication in X.XXX seconds
```

**–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

#### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
curl http://localhost:8081/swagger-ui
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Swagger UI (–∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl http://localhost:8081/v3/api-docs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** JSON —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Swagger UI

#### 4.1. –û—Ç–∫—Ä—ã—Ç–∏–µ Swagger UI
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8081/swagger-ui
```

**–ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö endpoints
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ endpoint
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

---

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ curl

#### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–æ–±—ã—Ç–∏–µ)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8081/api/v1/detail-pages \
  -H "Content-Type: application/json" \
  -H "X-Author-Id: 123" \
  -d '{
    "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è",
    "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏...",
    "pageType": "event",
    "status": "draft",
    "metadata": {
      "date": "2024-12-25",
      "time": "18:00",
      "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1",
      "participants": 50,
      "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ", "–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"]
    },
    "imageUrl": "https://example.com/image.jpg"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (201 Created):**
```json
{
  "id": 1,
  "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è",
  "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏...",
  "pageType": "event",
  "metadata": {
    "date": "2024-12-25",
    "time": "18:00",
    "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1",
    "participants": 50,
    "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ", "–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"]
  },
  "imageUrl": "https://example.com/image.jpg",
  "status": "draft",
  "authorId": 123,
  "viewsCount": 0,
  "createdAt": "2024-01-01T12:00:00Z",
  "updatedAt": "2024-01-01T12:00:00Z",
  "publishedAt": null
}
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
export PAGE_ID=1
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏–ª–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª–æ –¥–∞–Ω–Ω—ã–µ (title –∏ pageType –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã)
3. –°–æ–∑–¥–∞–ª–æ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ë–î
4. –£—Å—Ç–∞–Ω–æ–≤–∏–ª–æ authorId, createdAt, updatedAt
5. –í–µ—Ä–Ω—É–ª–æ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "SELECT id, title, page_type, status, views_count FROM detail_page.detail_pages WHERE id = 1;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |         title          | page_type | status | views_count
----+------------------------+-----------+--------+-------------
  1 | –í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ   | event     | draft  |           0
(1 row)
```

#### 5.2. –°–æ–∑–¥–∞–Ω–∏–µ –µ—â–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø—Ä–æ–µ–∫—Ç)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8081/api/v1/detail-pages \
  -H "Content-Type: application/json" \
  -H "X-Author-Id: 456" \
  -d '{
    "title": "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞",
    "content": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞...",
    "pageType": "project",
    "status": "published",
    "metadata": {
      "startDate": "2024-01-01",
      "endDate": "2024-12-31",
      "budget": 100000,
      "team": ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä", "–ú–∞—Ä–∏—è"],
      "tags": ["–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", "–¥–µ—Ç–∏"]
    }
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (201 Created):** –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å id=2

#### 5.3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ ID

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET http://localhost:8081/api/v1/detail-pages/$PAGE_ID
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "id": 1,
  "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
  ...
  "viewsCount": 1
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –ë–î
2. –£–≤–µ–ª–∏—á–∏–ª–æ —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Å 0 –¥–æ 1
3. –°–æ—Ö—Ä–∞–Ω–∏–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î
4. –í–µ—Ä–Ω—É–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```bash
curl -X GET http://localhost:8081/api/v1/detail-pages/$PAGE_ID
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `viewsCount` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 2

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "SELECT id, title, views_count FROM detail_page.detail_pages WHERE id = $PAGE_ID;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `views_count` –¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è

#### 5.4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET "http://localhost:8081/api/v1/detail-pages?page=0&size=10&sort=createdAt,desc"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "content": [
    {
      "id": 2,
      "title": "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç",
      ...
    },
    {
      "id": 1,
      "title": "–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ",
      ...
    }
  ],
  "pageable": {
    "pageNumber": 0,
    "pageSize": 10,
    "sort": {
      "sorted": true,
      "unsorted": false
    }
  },
  "totalElements": 2,
  "totalPages": 1,
  "last": true,
  "first": true,
  "numberOfElements": 2
}
```

#### 5.5. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET "http://localhost:8081/api/v1/detail-pages?pageType=event"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ç–∏–ø–æ–º "event"

#### 5.6. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET "http://localhost:8081/api/v1/detail-pages?status=published"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### 5.7. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET "http://localhost:8081/api/v1/detail-pages?pageType=event&status=draft"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ —á–µ—Ä–Ω–æ–≤–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

#### 5.8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X PUT http://localhost:8081/api/v1/detail-pages/$PAGE_ID \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
    "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "status": "published"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "id": 1,
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  ...
  "status": "published",
  "updatedAt": "2024-01-02T10:00:00Z",
  "publishedAt": "2024-01-02T10:00:00Z"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–∏–ª–æ title –∏ description
2. –ò–∑–º–µ–Ω–∏–ª–æ status –Ω–∞ "published"
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–æ publishedAt (—Ç–∞–∫ –∫–∞–∫ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ "published")
4. –û–±–Ω–æ–≤–∏–ª–æ updatedAt
5. –í–µ—Ä–Ω—É–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "SELECT id, title, status, published_at FROM detail_page.detail_pages WHERE id = $PAGE_ID;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `status` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "published", `published_at` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

#### 5.9. –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET http://localhost:8081/api/v1/detail-pages/999
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (404 Not Found):**
```json
{
  "errorId": "uuid-–∑–¥–µ—Å—å",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 404,
  "code": "DETAIL_PAGE_NOT_FOUND",
  "message": "Detail page with id 999 not found",
  "path": "/api/v1/detail-pages/999"
}
```

#### 5.10. –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8081/api/v1/detail-pages \
  -H "Content-Type: application/json" \
  -d '{
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (400 Bad Request):**
```json
{
  "errorId": "uuid-–∑–¥–µ—Å—å",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 400,
  "code": "VALIDATION_ERROR",
  "message": "Validation failed",
  "path": "/api/v1/detail-pages",
  "details": {
    "title": "Title is required",
    "pageType": "Page type is required"
  }
}
```

#### 5.11. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X DELETE http://localhost:8081/api/v1/detail-pages/$PAGE_ID
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (204 No Content):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -c "SELECT id FROM detail_page.detail_pages WHERE id = $PAGE_ID;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–ø–∏—Å—å –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

#### 5.12. –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X DELETE http://localhost:8081/api/v1/detail-pages/999
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (404 Not Found):** –û—à–∏–±–∫–∞ "Detail page with id 999 not found"

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Swagger UI

#### 6.1. –û—Ç–∫—Ä—ã—Ç–∏–µ Swagger UI
```
http://localhost:8081/swagger-ui
```

#### 6.2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `POST /api/v1/detail-pages`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ JSON (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ)
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `id` –∏–∑ –æ—Ç–≤–µ—Ç–∞

#### 6.3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `GET /api/v1/detail-pages/{id}`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –í–≤–µ–¥–∏—Ç–µ `id` —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

#### 6.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `PUT /api/v1/detail-pages/{id}`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –í–≤–µ–¥–∏—Ç–µ `id` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ JSON —Å –ø–æ–ª—è–º–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –í—ã —É–≤–∏–¥–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

#### 6.5. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `GET /api/v1/detail-pages`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (pageType, status)
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é (page, size, sort)
5. –ù–∞–∂–º–∏—Ç–µ "Execute"
6. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü

---

### –®–∞–≥ 7: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

#### 7.1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

#### 7.2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker compose -f docker/docker-compose.yml down
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker compose -f docker/docker-compose.yml down -v
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î!

---

## –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Connection refused" –∫ PostgreSQL
**–ü—Ä–∏—á–∏–Ω–∞:** PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker compose -f docker/docker-compose.yml ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker compose -f docker/docker-compose.yml restart postgres-db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker compose -f docker/docker-compose.yml logs postgres-db
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Schema 'detail_page' does not exist"
**–ü—Ä–∏—á–∏–Ω–∞:** SQL —Å–∫—Ä–∏–ø—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose -f docker/docker-compose.yml logs postgres-db

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db -f /docker-entrypoint-initdb.d/init.sql
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Port already in use"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 8081 –∏–ª–∏ 25433 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8081
lsof -i :8081

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID)
kill -9 PID

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ application.yml
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
./gradlew clean

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
./gradlew build
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (`title` –∏ `pageType`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –ø–æ–ª–µ–π (`@Size` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—ã —É—Å–ø–µ—à–Ω–æ:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ PostgreSQL
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ ID (—Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
   - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–∞–±–æ—Ç—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–∞–±–æ—Ç—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–î–ª—è —Å–æ–±—ã—Ç–∏—è:**
```json
{
  "date": "2024-12-25",
  "time": "18:00",
  "location": "–ú–æ—Å–∫–≤–∞",
  "participants": 50,
  "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ"]
}
```

**–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞:**
```json
{
  "startDate": "2024-01-01",
  "endDate": "2024-12-31",
  "budget": 100000,
  "team": ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä"]
}
```

**–î–ª—è —Å—Ç–∞—Ç—å–∏:**
```json
{
  "category": "–Ω–æ–≤–æ—Å—Ç–∏",
  "tags": ["–≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–æ"],
  "readingTime": 5
}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–¢–∏–ø—ã —Å—Ç—Ä–∞–Ω–∏—Ü:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã: "event", "project", "article"
2. **–°—Ç–∞—Ç—É—Å—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã: "draft", "published", "archived"
3. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:** –•—Ä–∞–Ω–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ–ª–µ `metadata`
4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (—Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã 20-50)
5. **–ò–Ω–¥–µ–∫—Å—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ `pageType` –∏ `status` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
./gradlew bootRun
# –õ–æ–≥–∏ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker compose -f docker/docker-compose.yml logs postgres-db
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker compose -f docker/docker-compose.yml restart
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker compose -f docker/docker-compose.yml ps
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```bash
docker exec -it postgresDb-detailpage psql -U detailpage -d detailpage_db
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –ë–î
```sql
SELECT id, title, page_type, status, views_count, created_at 
FROM detail_page.detail_pages 
ORDER BY created_at DESC;
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```sql
SELECT page_type, status, COUNT(*) as count 
FROM detail_page.detail_pages 
GROUP BY page_type, status;
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Ä—Ç–æ–≤

- **8081** ‚Äî Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **25433** ‚Äî PostgreSQL (–≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `detailpage_db`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `detailpage`
- **–ü–∞—Ä–æ–ª—å:** `password`
- **–°—Ö–µ–º–∞:** `detail_page`
- **–¢–∞–±–ª–∏—Ü–∞:** `detail_pages`

---

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ

