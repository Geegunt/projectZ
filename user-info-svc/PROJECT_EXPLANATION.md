# –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ user-info-svc

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
4. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
5. [API Endpoints](#api-endpoints)
6. [–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç—ã](#–ø–æ—à–∞–≥–æ–≤–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-–ø—Ä–æ–≤–µ—Ä–∫–µ-—Ä–∞–±–æ—Ç—ã)

---

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**user-info-svc** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, –≤—ã—Ö–æ–¥
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî JWT —Ç–æ–∫–µ–Ω—ã, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∑–∞—â–∏—Ç–∞ endpoints
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **Java 21** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Spring Boot 3.5.5** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** ‚Äî –∫—ç—à –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–æ–∫–µ–Ω–æ–≤
- **JWT** ‚Äî —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Liquibase** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **MapStruct** ‚Äî –º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤
- **Swagger/OpenAPI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture** –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª–æ—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Presentation Layer (HTTP Controllers) ‚îÇ
‚îÇ   - AuthController                      ‚îÇ
‚îÇ   - ProfileController                   ‚îÇ
‚îÇ   - GlobalExceptionHandler              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Application Layer (Business Logic)    ‚îÇ
‚îÇ   - AuthService                         ‚îÇ
‚îÇ   - ProfileService                      ‚îÇ
‚îÇ   - Mappers (UserMapper, ProfileMapper) ‚îÇ
‚îÇ   - Factories (UserFactory)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Domain Layer (Entities)               ‚îÇ
‚îÇ   - User                                ‚îÇ
‚îÇ   - UserRole                            ‚îÇ
‚îÇ   - SocialNetworks                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Infrastructure Layer                  ‚îÇ
‚îÇ   - UserRepository (JPA)                ‚îÇ
‚îÇ   - RedisProvider                       ‚îÇ
‚îÇ   - JwtService, TokenStore              ‚îÇ
‚îÇ   - SecurityConfig                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å–ª–æ–µ–≤:

1. **Presentation Layer** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã
2. **Application Layer** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
3. **Domain Layer** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
4. **Infrastructure Layer** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. Domain Layer (–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π)

#### `User.java` ‚Äî –°—É—â–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** JPA-—Å—É—â–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `login` ‚Äî –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `password` ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `fullName` ‚Äî –ø–æ–ª–Ω–æ–µ –∏–º—è
- `personalEmail`, `maiEmail`, `contactEmail` ‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ email –∞–¥—Ä–µ—Å–∞
- `institute`, `studentGroup` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–±–µ
- `birthDate` ‚Äî –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- `clothingSize` ‚Äî —Ä–∞–∑–º–µ—Ä –æ–¥–µ–∂–¥—ã
- `social` ‚Äî JSON –ø–æ–ª–µ —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏ (telegram, vk)
- `role` ‚Äî —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (VOLUNTEER, MODERATOR)
- `createdAt`, `updatedAt` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ö–µ–º—É `user_info` –≤ PostgreSQL
- –ü–æ–ª–µ `social` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ JSONB
- –†–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ PostgreSQL enum

#### `UserRole.java` ‚Äî –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Enum –¥–ª—è —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- `VOLUNTEER` ‚Äî –≤–æ–ª–æ–Ω—Ç–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `MODERATOR` ‚Äî –º–æ–¥–µ—Ä–∞—Ç–æ—Ä

---

### 2. Application Layer (–°–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

#### `AuthService.java` ‚Äî –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π, –≤—Ö–æ–¥–æ–º, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏ –≤—ã—Ö–æ–¥–æ–º.

**–ú–µ—Ç–æ–¥—ã:**

1. **`register(RegisterRequest request)`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º
   - –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
   - –•–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã (access –∏ refresh)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç refresh —Ç–æ–∫–µ–Ω –≤ Redis
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–∞ —Ç–æ–∫–µ–Ω–∞

2. **`login(String login, String password)`**
   - –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ª–æ–≥–∏–Ω—É
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å (—Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ö–µ—à)
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ JWT —Ç–æ–∫–µ–Ω—ã
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç refresh —Ç–æ–∫–µ–Ω –≤ Redis
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã

3. **`refresh(String refreshToken)`**
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç refresh —Ç–æ–∫–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Redis
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ access –∏ refresh —Ç–æ–∫–µ–Ω—ã
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π refresh —Ç–æ–∫–µ–Ω –∏–∑ Redis
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

4. **`logout(String refreshToken)`**
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç refresh —Ç–æ–∫–µ–Ω
   - –£–¥–∞–ª—è–µ—Ç refresh —Ç–æ–∫–µ–Ω –∏–∑ Redis (–æ—Ç–∑—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω)

#### `ProfileService.java` ‚Äî –°–µ—Ä–≤–∏—Å –ø—Ä–æ—Ñ–∏–ª–µ–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ú–µ—Ç–æ–¥—ã:**

1. **`getProfileByLogin(String login)`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à –≤ Redis –ø–æ –∫–ª—é—á—É `user:profile:{login}`
   - –ï—Å–ª–∏ –µ—Å—Ç—å –≤ –∫—ç—à–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑ –∫—ç—à–∞
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∏–∑ –ë–î, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ DTO, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫—ç—à
   - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

2. **`updateProfileByLogin(String login, ProfileUpdateRequest request)`**
   - –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î
   - –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –∫—ç—à –∏–∑ Redis
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

#### `UserMapper.java` –∏ `ProfileMapper.java` ‚Äî –ú–∞–ø–ø–µ—Ä—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –æ–±—ä–µ–∫—Ç—ã –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (Entity ‚Üî DTO).

**MapStruct** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:
- `toEntity()` ‚Äî DTO ‚Üí Entity
- `toDto()` ‚Äî Entity ‚Üí DTO
- `updateEntityFromRequest()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Entity –∏–∑ DTO

#### `UserFactory.java` ‚Äî –§–∞–±—Ä–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã User –∏–∑ RegisterRequest.

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç UserMapper –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞
2. –•–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ PasswordEncoder
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç User

---

### 3. Infrastructure Layer (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π)

#### `UserRepository.java` ‚Äî –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Spring Data JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.

**–ú–µ—Ç–æ–¥—ã:**
- `findByLogin(String login)` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∏–Ω—É
- `existsByLogin(String login)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã JpaRepository (save, findById, delete –∏ —Ç.–¥.)

#### `JwtService.java` ‚Äî –°–µ—Ä–≤–∏—Å JWT —Ç–æ–∫–µ–Ω–æ–≤
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤.

**–ú–µ—Ç–æ–¥—ã:**

1. **`issueAccessToken(String subject, Map<String, Object> claims)`**
   - –°–æ–∑–¥–∞–µ—Ç access —Ç–æ–∫–µ–Ω
   - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: 900 —Å–µ–∫—É–Ω–¥ (15 –º–∏–Ω—É—Ç) ‚Äî –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
   - –°–æ–¥–µ—Ä–∂–∏—Ç: subject (login), claims (uid), jti (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ç–æ–∫–µ–Ω–∞)
   - –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º (HMAC SHA-256)

2. **`issueRefreshToken(String subject)`**
   - –°–æ–∑–¥–∞–µ—Ç refresh —Ç–æ–∫–µ–Ω
   - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: 2592000 —Å–µ–∫—É–Ω–¥ (30 –¥–Ω–µ–π) ‚Äî –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
   - –°–æ–¥–µ—Ä–∂–∏—Ç: subject (login), jti
   - –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º

3. **`parseAndValidate(String token)`**
   - –ü–∞—Ä—Å–∏—Ç —Ç–æ–∫–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Claims (–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–æ–∫–µ–Ω–∞)

#### `TokenStore.java` ‚Äî –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–æ–∫–µ–Ω–æ–≤
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ —á–µ—Ä–Ω—ã–º —Å–ø–∏—Å–∫–æ–º access —Ç–æ–∫–µ–Ω–æ–≤ –≤ Redis.

**–ú–µ—Ç–æ–¥—ã:**

1. **`storeRefreshToken(String userId, String refreshToken)`**
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç refresh —Ç–æ–∫–µ–Ω –≤ Redis
   - –ö–ª—é—á: `auth:refresh:{userId}:{refreshToken}`
   - TTL = –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞

2. **`hasRefreshToken(String userId, String refreshToken)`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ Redis

3. **`revokeRefreshToken(String userId, String refreshToken)`**
   - –£–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ Redis (–æ—Ç–∑—ã–≤–∞–µ—Ç)

4. **`blacklistAccessToken(String jti, long ttlSeconds)`**
   - –î–æ–±–∞–≤–ª—è–µ—Ç access —Ç–æ–∫–µ–Ω –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
   - –ö–ª—é—á: `auth:blacklist:{jti}`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

5. **`isAccessTokenBlacklisted(String jti)`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ–∫–µ–Ω –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ

#### `RedisProvider.java` ‚Äî –ü—Ä–æ–≤–∞–π–¥–µ—Ä Redis
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Redis.

**–ú–µ—Ç–æ–¥—ã:**

1. **`getAndCache(String key, Supplier<T> getDataFunc, Class<T> clazz)`**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à –ø–æ –∫–ª—é—á—É `op:cache:{key}`
   - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫—ç—à

2. **`upsertDataAndEvictCache(String key, Supplier<T> func)`**
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –∫—ç—à
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

#### `JwtAuthFilter.java` ‚Äî –§–∏–ª—å—Ç—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã.

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:**

1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer {token}`
2. –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –Ω–µ—Ç ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ
3. –ü–∞—Ä—Å–∏—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ JwtService
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ–∫–µ–Ω –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ
5. –ó–∞–≥—Ä—É–∂–∞–µ—Ç UserDetails —á–µ—Ä–µ–∑ UserDetailsService
6. –°–æ–∑–¥–∞–µ—Ç Authentication –æ–±—ä–µ–∫—Ç –∏ –ø–æ–º–µ—â–∞–µ—Ç –≤ SecurityContext
7. –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ

**–í–∞–∂–Ω–æ:** –§–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º, –∫—Ä–æ–º–µ —Ç–µ—Ö, —á—Ç–æ –≤ WHITE_LIST.

#### `SecurityConfig.java` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Spring Security.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**

1. **WHITE_LIST** ‚Äî endpoints, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
   - `/auth/**` ‚Äî –≤—Å–µ endpoints –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - `/swagger-ui/**`, `/v3/api-docs/**` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

2. **–û—Å—Ç–∞–ª—å–Ω—ã–µ endpoints** ‚Äî —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

3. **CORS** ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ origins (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

4. **Session** ‚Äî STATELESS (–±–µ–∑ —Å–µ—Å—Å–∏–π, —Ç–æ–ª—å–∫–æ JWT)

5. **CSRF** ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT)

#### `UserDetailsServiceImpl.java` ‚Äî –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è Spring Security
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å UserDetailsService –¥–ª—è Spring Security.

**–ú–µ—Ç–æ–¥ `loadUserByUsername(String username)`:**
- –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ª–æ–≥–∏–Ω—É
- –°–æ–∑–¥–∞–µ—Ç UserDetails –æ–±—ä–µ–∫—Ç —Å –ª–æ–≥–∏–Ω–æ–º, –ø–∞—Ä–æ–ª–µ–º –∏ —Ä–æ–ª—è–º–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–ª—è Spring Security

---

### 4. Presentation Layer (–°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)

#### `AuthController.java` ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**Endpoints:**

1. **POST `/auth/signup`** ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `RegisterRequest` (login, password, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `TokenResponse` (accessToken, refreshToken)
   - –ü—É–±–ª–∏—á–Ω—ã–π endpoint

2. **POST `/auth/login`** ‚Äî –í—Ö–æ–¥
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `LoginRequest` (login, password)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `TokenResponse` (accessToken, refreshToken)
   - –ü—É–±–ª–∏—á–Ω—ã–π endpoint

3. **POST `/auth/refresh`** ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `RefreshRequest` (refreshToken)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `TokenResponse` (–Ω–æ–≤—ã–µ accessToken, refreshToken)
   - –ü—É–±–ª–∏—á–Ω—ã–π endpoint

4. **POST `/auth/logout`** ‚Äî –í—ã—Ö–æ–¥
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `RefreshRequest` (refreshToken)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 204 No Content
   - –ü—É–±–ª–∏—á–Ω—ã–π endpoint

#### `ProfileController.java` ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π
**Endpoints:**

1. **GET `/profile/me`** ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
   - –¢—Ä–µ–±—É–µ—Ç: JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer {token}`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `ProfileResponse` (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è)
   - –ó–∞—â–∏—â–µ–Ω–Ω—ã–π endpoint

2. **PUT `/profile/me`** ‚Äî –û–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
   - –¢—Ä–µ–±—É–µ—Ç: JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `ProfileUpdateRequest` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `ProfileResponse` (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å)
   - –ó–∞—â–∏—â–µ–Ω–Ω—ã–π endpoint

#### `GlobalExceptionHandler.java` ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**

1. **UserAlreadyExistsException** ‚Üí 409 Conflict
2. **InvalidCredentialsException** ‚Üí 401 Unauthorized
3. **InvalidRefreshTokenException** ‚Üí 401 Unauthorized
4. **UserNotFoundException** ‚Üí 404 Not Found
5. **IllegalArgumentException** ‚Üí 400 Bad Request
6. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ** ‚Üí 500 Internal Server Error

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–µ:**
```json
{
  "errorId": "uuid",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 404,
  "code": "USER_NOT_FOUND",
  "message": "User with login 'test' not found",
  "path": "/profile/me"
}
```

---

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /auth/signup
   {
     "login": "user123",
     "password": "password123",
     "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   }

2. AuthController ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ @Valid

3. AuthController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç AuthService.register()

4. AuthService ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚Üí UserRepository.existsByLogin()

5. AuthService ‚Üí —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ UserFactory
   ‚Üí UserFactory ‚Üí UserMapper.toEntity()
   ‚Üí UserFactory ‚Üí PasswordEncoder.encode() (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
   ‚Üí UserFactory ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç createdAt, updatedAt

6. AuthService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
   ‚Üí UserRepository.save()

7. AuthService ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω—ã
   ‚Üí JwtService.issueAccessToken() (15 –º–∏–Ω—É—Ç)
   ‚Üí JwtService.issueRefreshToken() (30 –¥–Ω–µ–π)

8. AuthService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç refresh —Ç–æ–∫–µ–Ω –≤ Redis
   ‚Üí TokenStore.storeRefreshToken()
   ‚Üí Redis: auth:refresh:{userId}:{refreshToken}

9. AuthService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã

10. AuthController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TokenResponse –∫–ª–∏–µ–Ω—Ç—É
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º)

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí GET /profile/me
   Headers: Authorization: Bearer {accessToken}

2. JwtAuthFilter ‚Üí –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞
   ‚Üí JwtService.parseAndValidate() (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –∏ —Å—Ä–æ–∫–∞)
   ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ TokenStore
   ‚Üí UserDetailsService.loadUserByUsername()
   ‚Üí —Å–æ–∑–¥–∞–µ—Ç Authentication –∏ –ø–æ–º–µ—â–∞–µ—Ç –≤ SecurityContext

3. ProfileController ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç login –∏–∑ Authentication.getName()

4. ProfileController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç ProfileService.getProfileByLogin()

5. ProfileService ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à –≤ Redis
   ‚Üí RedisProvider.getAndCache("user:profile:{login}")
   ‚Üí Redis: op:cache:user:profile:{login}

6. –ï—Å–ª–∏ –≤ –∫—ç—à–µ –Ω–µ—Ç:
   ‚Üí UserRepository.findByLogin()
   ‚Üí ProfileMapper.toDto() (Entity ‚Üí DTO)
   ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Redis –∫—ç—à

7. –ï—Å–ª–∏ –≤ –∫—ç—à–µ –µ—Å—Ç—å:
   ‚Üí –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –∏–∑ Redis
   ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ä–∞–∑—É

8. ProfileService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ProfileResponse

9. ProfileController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –∫–ª–∏–µ–Ω—Ç—É
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /auth/refresh
   {
     "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
   }

2. AuthController ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç AuthService.refresh()

3. AuthService ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç refresh —Ç–æ–∫–µ–Ω
   ‚Üí JwtService.parseAndValidate()

4. AuthService ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤ Redis
   ‚Üí TokenStore.hasRefreshToken()
   ‚Üí Redis: auth:refresh:{userId}:{refreshToken}

5. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
   ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã
   ‚Üí JwtService.issueAccessToken()
   ‚Üí JwtService.issueRefreshToken()

6. AuthService ‚Üí –æ—Ç–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π refresh —Ç–æ–∫–µ–Ω
   ‚Üí TokenStore.revokeRefreshToken() (—É–¥–∞–ª—è–µ—Ç –∏–∑ Redis)

7. AuthService ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω
   ‚Üí TokenStore.storeRefreshToken()

8. AuthService ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

9. AuthController ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TokenResponse –∫–ª–∏–µ–Ω—Ç—É
```

---

## API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ endpoints (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

#### 1. POST `/auth/signup` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
**Request:**
```json
{
  "login": "user123",
  "password": "password123",
  "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "personalEmail": "ivan@example.com",
  "maiEmail": "ivan@student.mai.ru",
  "institute": "–ò–£",
  "studentGroup": "–ò–£-123",
  "birthDate": "2000-01-01",
  "clothingSize": "M",
  "social": {
    "telegram": "@ivan",
    "vk": "vk.com/ivan"
  },
  "contactEmail": "ivan@example.com"
}
```

**Response (200 OK):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### 2. POST `/auth/login` ‚Äî –í—Ö–æ–¥
**Request:**
```json
{
  "login": "user123",
  "password": "password123"
}
```

**Response (200 OK):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### 3. POST `/auth/refresh` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
**Request:**
```json
{
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**Response (200 OK):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### 4. POST `/auth/logout` ‚Äî –í—ã—Ö–æ–¥
**Request:**
```json
{
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**Response (204 No Content):** (–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ)

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints (—Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω)

#### 5. GET `/profile/me` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
**Headers:**
```
Authorization: Bearer {accessToken}
```

**Response (200 OK):**
```json
{
  "id": 1,
  "login": "user123",
  "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "personalEmail": "ivan@example.com",
  "maiEmail": "ivan@student.mai.ru",
  "institute": "–ò–£",
  "studentGroup": "–ò–£-123",
  "birthDate": "2000-01-01",
  "clothingSize": "M",
  "social": {
    "telegram": "@ivan",
    "vk": "vk.com/ivan"
  },
  "contactEmail": "ivan@example.com",
  "role": "VOLUNTEER"
}
```

#### 6. PUT `/profile/me` ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
**Headers:**
```
Authorization: Bearer {accessToken}
```

**Request:**
```json
{
  "fullName": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "institute": "–ò–£-2",
  "social": {
    "telegram": "@newivan",
    "vk": "vk.com/newivan"
  }
}
```

**Response (200 OK):**
```json
{
  "id": 1,
  "login": "user123",
  "fullName": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  ...
}
```

---

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### 1.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Java
```bash
java -version
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Java version "21" –∏–ª–∏ –≤—ã—à–µ

**–ï—Å–ª–∏ Java –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:**
- macOS: `brew install openjdk@21`
- –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://adoptium.net/

#### 1.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
```bash
docker --version
docker compose version
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í–µ—Ä—Å–∏–∏ Docker –∏ Docker Compose

**–ï—Å–ª–∏ Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
- macOS: `brew install --cask docker`
- –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ Docker Desktop: https://www.docker.com/products/docker-desktop
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

#### 1.3. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /Users/glebgrigorev/Desktop/programming/projectEpsilan/user-info-svc
```

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (PostgreSQL –∏ Redis)

#### 2.1. –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose -f docker/docker-compose.yml up -d
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 25432
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Redis –Ω–∞ –ø–æ—Ä—Ç—É 6380
- –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã –ë–î

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
[+] Running 3/3
 ‚úî Container postgresDb      Started
 ‚úî Container migrations      Started
 ‚úî Container redis_container Started
```

#### 2.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose -f docker/docker-compose.yml ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
NAME              STATUS
postgresDb        Up
migrations        Exited (0)
redis_container   Up
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `postgresDb` –∏ `redis_container` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ "Up"
- `migrations` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Exited (0)" ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ

#### 2.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫)
```bash
docker compose -f docker/docker-compose.yml logs
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã 25432 –∏ 6380 —Å–≤–æ–±–æ–¥–Ω—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω

#### 2.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
```bash
docker exec -it postgresDb psql -U userinfo -d userinfo_db -c "SELECT 1;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 ?column?
----------
        1
(1 row)
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ ‚Äî PostgreSQL –º–æ–∂–µ—Ç –µ—â–µ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose -f docker/docker-compose.yml logs postgres-db`

#### 2.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
docker exec -it postgresDb psql -U userinfo -d userinfo_db -c "\dn"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ö–µ–º–∞ `user_info`

```bash
docker exec -it postgresDb psql -U userinfo -d userinfo_db -c "\dt user_info.*"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `users`

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 3.1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
./gradlew clean build -x test
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
BUILD SUCCESSFUL in Xs
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –≠—Ç–æ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

#### 3.2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
./gradlew bootRun
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
> Task :bootRun

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.5.5)

... (–º–Ω–æ–≥–æ –ª–æ–≥–æ–≤ Spring Boot)

Started UserInfoApplication in X.XXX seconds
```

**–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker compose -f docker/docker-compose.yml ps`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 25432 –¥–æ—Å—Ç—É–ø–µ–Ω

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 6380 –¥–æ—Å—Ç—É–ø–µ–Ω

#### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—è –ø–µ—Ä–≤—ã–π) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
curl http://localhost:8080/swagger-ui
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Swagger UI (–∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl http://localhost:8080/v3/api-docs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** JSON —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Swagger UI

#### 4.1. –û—Ç–∫—Ä—ã—Ç–∏–µ Swagger UI
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8080/swagger-ui
```

**–ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö endpoints
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ endpoint
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

#### 4.2. –ò–∑—É—á–µ–Ω–∏–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–í Swagger UI –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- **Auth Controller** ‚Äî endpoints –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Profile Controller** ‚Äî endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º

---

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ curl (–ø–æ—à–∞–≥–æ–≤–æ)

#### 5.1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/signup \
  -H "Content-Type: application/json" \
  -d '{
    "login": "testuser",
    "password": "testpassword123",
    "fullName": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "personalEmail": "test@example.com",
    "institute": "–ò–£",
    "studentGroup": "–ò–£-123"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsInVpZCI6MSwianRpIjoi...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImp0aSI6Ii4uLiJ9..."
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏–ª–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. –ü—Ä–æ–≤–µ—Ä–∏–ª–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –°–æ–∑–¥–∞–ª–æ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
4. –ó–∞—Ö–µ—à–∏—Ä–æ–≤–∞–ª–æ –ø–∞—Ä–æ–ª—å
5. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ JWT —Ç–æ–∫–µ–Ω—ã
6. –°–æ—Ö—Ä–∞–Ω–∏–ª–æ refresh —Ç–æ–∫–µ–Ω –≤ Redis
7. –í–µ—Ä–Ω—É–ª–æ —Ç–æ–∫–µ–Ω—ã –∫–ª–∏–µ–Ω—Ç—É

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ accessToken –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞)
export ACCESS_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ refreshToken
export REFRESH_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb psql -U userinfo -d userinfo_db -c "SELECT id, login, full_name FROM user_info.users WHERE login = 'testuser';"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
 id |  login   |      full_name
----+----------+-------------------
  1 | testuser | –¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
(1 row)
```

**–í–∞–∂–Ω–æ:** –ü–∞—Ä–æ–ª—å –≤ –ë–î –±—É–¥–µ—Ç –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω, –≤—ã –Ω–µ —É–≤–∏–¥–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –ø–∞—Ä–æ–ª—å.

#### 5.2. –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å —Ç–µ–º –∂–µ –ª–æ–≥–∏–Ω–æ–º (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/signup \
  -H "Content-Type: application/json" \
  -d '{
    "login": "testuser",
    "password": "anotherpassword"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (409 Conflict):**
```json
{
  "errorId": "uuid-–∑–¥–µ—Å—å",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 409,
  "code": "USER_EXISTS",
  "message": "User with login testuser already exists",
  "path": "/auth/signup"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –û–±–Ω–∞—Ä—É–∂–∏–ª–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –í—ã–±—Ä–æ—Å–∏–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `UserAlreadyExistsException`
4. `GlobalExceptionHandler` –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
5. –í–µ—Ä–Ω—É–ª —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ–± –æ—à–∏–±–∫–µ

#### 5.3. –í—Ö–æ–¥ (login) —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "login": "testuser",
    "password": "testpassword123"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—à–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ª–æ–≥–∏–Ω—É
2. –°—Ä–∞–≤–Ω–∏–ª–æ –≤–≤–µ–¥–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å —Å —Ö–µ—à–µ–º –≤ –ë–î
3. –ü–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–ª
4. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã
5. –°–æ—Ö—Ä–∞–Ω–∏–ª–æ –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω –≤ Redis
6. –í–µ—Ä–Ω—É–ª–æ —Ç–æ–∫–µ–Ω—ã

**–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
export ACCESS_TOKEN="–Ω–æ–≤—ã–π_—Ç–æ–∫–µ–Ω_–∏–∑_–æ—Ç–≤–µ—Ç–∞"
export REFRESH_TOKEN="–Ω–æ–≤—ã–π_—Ç–æ–∫–µ–Ω_–∏–∑_–æ—Ç–≤–µ—Ç–∞"
```

#### 5.4. –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "login": "testuser",
    "password": "wrongpassword"
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (401 Unauthorized):**
```json
{
  "errorId": "uuid-–∑–¥–µ—Å—å",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 401,
  "code": "INVALID_CREDENTIALS",
  "message": "Invalid credentials",
  "path": "/auth/login"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—à–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –°—Ä–∞–≤–Ω–∏–ª–æ –ø–∞—Ä–æ–ª—å —Å —Ö–µ—à–µ–º
3. –ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–ª
4. –í—ã–±—Ä–æ—Å–∏–ª–æ `InvalidCredentialsException`
5. –í–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É 401

#### 5.5. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π endpoint)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "id": 1,
  "login": "testuser",
  "fullName": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
  "personalEmail": "test@example.com",
  "maiEmail": null,
  "institute": "–ò–£",
  "studentGroup": "–ò–£-123",
  "birthDate": null,
  "clothingSize": null,
  "social": {
    "telegram": null,
    "vk": null
  },
  "contactEmail": null,
  "role": "VOLUNTEER"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `JwtAuthFilter` –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª –∑–∞–ø—Ä–æ—Å
2. –ò–∑–≤–ª–µ–∫ —Ç–æ–∫–µ–Ω –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization: Bearer ...`
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `JwtService`
4. –ü—Ä–æ–≤–µ—Ä–∏–ª —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
5. –ó–∞–≥—Ä—É–∑–∏–ª `UserDetails` —á–µ—Ä–µ–∑ `UserDetailsService`
6. –°–æ–∑–¥–∞–ª `Authentication` –∏ –ø–æ–º–µ—Å—Ç–∏–ª –≤ `SecurityContext`
7. `ProfileController` –ø–æ–ª—É—á–∏–ª –∑–∞–ø—Ä–æ—Å
8. –ò–∑–≤–ª–µ–∫ login –∏–∑ `Authentication.getName()`
9. `ProfileService` –ø—Ä–æ–≤–µ—Ä–∏–ª –∫—ç—à –≤ Redis
10. –ï—Å–ª–∏ –Ω–µ—Ç –≤ –∫—ç—à–µ ‚Äî –ø–æ–ª—É—á–∏–ª –∏–∑ –ë–î, —Å–æ—Ö—Ä–∞–Ω–∏–ª –≤ –∫—ç—à
11. –í–µ—Ä–Ω—É–ª –ø—Ä–æ—Ñ–∏–ª—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –≤ Redis:**
```bash
docker exec -it redis_container redis-cli -a redispassword KEYS "op:cache:user:profile:testuser"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–ª—é—á –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

#### 5.6. –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –±–µ–∑ —Ç–æ–∫–µ–Ω–∞

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET http://localhost:8080/profile/me
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (401 Unauthorized):**
```json
{
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 401,
  "error": "Unauthorized",
  "path": "/profile/me"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `JwtAuthFilter` –Ω–µ –Ω–∞—à–µ–ª —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
2. –ù–µ —Å–æ–∑–¥–∞–ª `Authentication`
3. Spring Security –æ—Ç–∫–ª–æ–Ω–∏–ª –∑–∞–ø—Ä–æ—Å
4. –í–µ—Ä–Ω—É–ª 401 Unauthorized

#### 5.7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X PUT http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "fullName": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è",
    "institute": "–ò–£-2",
    "social": {
      "telegram": "@testuser",
      "vk": "vk.com/testuser"
    }
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "id": 1,
  "login": "testuser",
  "fullName": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è",
  "personalEmail": "test@example.com",
  "maiEmail": null,
  "institute": "–ò–£-2",
  "studentGroup": "–ò–£-123",
  "birthDate": null,
  "clothingSize": null,
  "social": {
    "telegram": "@testuser",
    "vk": "vk.com/testuser"
  },
  "contactEmail": null,
  "role": "VOLUNTEER"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `ProfileService` –ø–æ–ª—É—á–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î
3. –û–±–Ω–æ–≤–∏–ª –ø–æ–ª—è —á–µ—Ä–µ–∑ `ProfileMapper`
4. –°–æ—Ö—Ä–∞–Ω–∏–ª –≤ –ë–î
5. –£–¥–∞–ª–∏–ª —Å—Ç–∞—Ä—ã–π –∫—ç—à –∏–∑ Redis (—á—Ç–æ–±—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å)
6. –í–µ—Ä–Ω—É–ª –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it postgresDb psql -U userinfo -d userinfo_db -c "SELECT full_name, institute, social FROM user_info.users WHERE login = 'testuser';"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∫—ç—à —É–¥–∞–ª–µ–Ω:**
```bash
docker exec -it redis_container redis-cli -a redispassword KEYS "op:cache:user:profile:testuser"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–ª—é—á –Ω–µ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å (–±—ã–ª —É–¥–∞–ª–µ–Ω –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏)

#### 5.8. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `ProfileService` –ø—Ä–æ–≤–µ—Ä–∏–ª –∫—ç—à ‚Äî –µ–≥–æ –Ω–µ—Ç (–±—ã–ª —É–¥–∞–ª–µ–Ω)
2. –ü–æ–ª—É—á–∏–ª –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î (—Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏)
3. –°–æ—Ö—Ä–∞–Ω–∏–ª –≤ –∫—ç—à Redis
4. –í–µ—Ä–Ω—É–ª –ø—Ä–æ—Ñ–∏–ª—å

**–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `ProfileService` –ø—Ä–æ–≤–µ—Ä–∏–ª –∫—ç—à ‚Äî –Ω–∞—à–µ–ª –¥–∞–Ω–Ω—ã–µ
2. –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–ª –∏–∑ Redis
3. –í–µ—Ä–Ω—É–ª –∏–∑ –∫—ç—à–∞ (–±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î)

#### 5.9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (refresh)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{
    \"refreshToken\": \"$REFRESH_TOKEN\"
  }"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (200 OK):**
```json
{
  "accessToken": "–Ω–æ–≤—ã–π_access_token",
  "refreshToken": "–Ω–æ–≤—ã–π_refresh_token"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `JwtService` –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª refresh —Ç–æ–∫–µ–Ω
2. `TokenStore` –ø—Ä–æ–≤–µ—Ä–∏–ª —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ Redis
3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –Ω–æ–≤—ã–µ access –∏ refresh —Ç–æ–∫–µ–Ω—ã
4. –£–¥–∞–ª–∏–ª —Å—Ç–∞—Ä—ã–π refresh —Ç–æ–∫–µ–Ω –∏–∑ Redis
5. –°–æ—Ö—Ä–∞–Ω–∏–ª –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω –≤ Redis
6. –í–µ—Ä–Ω—É–ª –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

**–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
export ACCESS_TOKEN="–Ω–æ–≤—ã–π_access_token"
export REFRESH_TOKEN="–Ω–æ–≤—ã–π_refresh_token"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Redis:**
```bash
# –°—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω
docker exec -it redis_container redis-cli -a redispassword KEYS "auth:refresh:*"

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
```

#### 5.10. –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π refresh —Ç–æ–∫–µ–Ω

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{
    \"refreshToken\": \"—Å—Ç–∞—Ä—ã–π_refresh_token\"
  }"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (401 Unauthorized):**
```json
{
  "errorId": "uuid-–∑–¥–µ—Å—å",
  "timestamp": "2024-01-01T12:00:00Z",
  "status": 401,
  "code": "INVALID_REFRESH_TOKEN",
  "message": "Invalid refresh token",
  "path": "/auth/refresh"
}
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. –¢–æ–∫–µ–Ω –±—ã–ª –≤–∞–ª–∏–¥–µ–Ω –ø–æ –ø–æ–¥–ø–∏—Å–∏
2. –ù–æ `TokenStore` –Ω–µ –Ω–∞—à–µ–ª –µ–≥–æ –≤ Redis (–±—ã–ª —É–¥–∞–ª–µ–Ω –ø—Ä–∏ refresh)
3. –í—ã–±—Ä–æ—Å–∏–ª–æ `InvalidRefreshTokenException`
4. –í–µ—Ä–Ω—É–ª–æ –æ—à–∏–±–∫—É 401

#### 5.11. –í—ã—Ö–æ–¥ (logout)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/logout \
  -H "Content-Type: application/json" \
  -d "{
    \"refreshToken\": \"$REFRESH_TOKEN\"
  }"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (204 No Content):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. `JwtService` –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª refresh —Ç–æ–∫–µ–Ω
2. `TokenStore` —É–¥–∞–ª–∏–ª —Ç–æ–∫–µ–Ω –∏–∑ Redis
3. –¢–æ–∫–µ–Ω –±–æ–ª—å—à–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è refresh

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Redis:**
```bash
docker exec -it redis_container redis-cli -a redispassword KEYS "auth:refresh:*"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω

#### 5.12. –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
curl -X POST http://localhost:8080/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{
    \"refreshToken\": \"$REFRESH_TOKEN\"
  }"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (401 Unauthorized):** –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Redis

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Swagger UI

#### 6.1. –û—Ç–∫—Ä—ã—Ç–∏–µ Swagger UI
```
http://localhost:8080/swagger-ui
```

#### 6.2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `POST /auth/signup`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ JSON (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –≤—ã—à–µ)
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `accessToken` –∏–∑ –æ—Ç–≤–µ—Ç–∞

#### 6.3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Swagger
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Authorize" –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –í—Å—Ç–∞–≤—å—Ç–µ `accessToken` –≤ –ø–æ–ª–µ "Value"
3. –ù–∞–∂–º–∏—Ç–µ "Authorize"
4. –ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ

#### 6.4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `GET /profile/me`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –ù–∞–∂–º–∏—Ç–µ "Execute"
4. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

#### 6.5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ Swagger
1. –ù–∞–π–¥–∏—Ç–µ endpoint `PUT /profile/me`
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ JSON —Å –ø–æ–ª—è–º–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –í—ã —É–≤–∏–¥–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

---

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

#### 7.1. –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è SQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–í `application.yml` –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
```yaml
spring:
  jpa:
    show-sql: true
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

#### 7.2. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ñ–∏–ª—è
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å SQL –∑–∞–ø—Ä–æ—Å `SELECT ... FROM user_info.users`

#### 7.3. –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ñ–∏–ª—è (–∏–∑ –∫—ç—à–∞)
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** SQL –∑–∞–ø—Ä–æ—Å–∞ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å (–¥–∞–Ω–Ω—ã–µ –∏–∑ Redis)

#### 7.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
```bash
curl -X PUT http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"fullName": "–ù–æ–≤–æ–µ –∏–º—è"}'
```

**–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å SQL –∑–∞–ø—Ä–æ—Å `UPDATE ...`

#### 7.5. –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ñ–∏–ª—è
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å SQL –∑–∞–ø—Ä–æ—Å (–∫—ç—à –±—ã–ª —É–¥–∞–ª–µ–Ω, –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)

---

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤

#### 8.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞
Access —Ç–æ–∫–µ–Ω –∂–∏–≤–µ—Ç 15 –º–∏–Ω—É—Ç (900 —Å–µ–∫—É–Ω–¥).

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ login
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 16 –º–∏–Ω—É—Ç
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω:
```bash
curl -X GET http://localhost:8080/profile/me \
  -H "Authorization: Bearer $ACCESS_TOKEN"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (401 Unauthorized):** –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫

#### 8.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–µ–≥–æ access —Ç–æ–∫–µ–Ω–∞
```bash
curl -X POST http://localhost:8080/auth/refresh \
  -H "Content-Type: application/json" \
  -d "{
    \"refreshToken\": \"$REFRESH_TOKEN\"
  }"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

---

### –®–∞–≥ 9: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

#### 9.1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

#### 9.2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose -f docker/docker-compose.yml down
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker compose -f docker/docker-compose.yml down -v
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∏ Redis!

---

## –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Connection refused" –∫ PostgreSQL
**–ü—Ä–∏—á–∏–Ω–∞:** PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker compose -f docker/docker-compose.yml ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker compose -f docker/docker-compose.yml restart postgres-db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker compose -f docker/docker-compose.yml logs postgres-db
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Connection refused" –∫ Redis
**–ü—Ä–∏—á–∏–Ω–∞:** Redis –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
docker compose -f docker/docker-compose.yml restart redis
docker compose -f docker/docker-compose.yml logs redis
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Schema 'user_info' does not exist"
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–π
docker compose -f docker/docker-compose.yml logs migrations

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose -f docker/docker-compose.yml up migrations
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Port already in use"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 8080, 25432 –∏–ª–∏ 6380 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8080
lsof -i :8080

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID)
kill -9 PID

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ application.yml
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Invalid JWT token"
**–ü—Ä–∏—á–∏–Ω–∞:** –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/auth/login` –∏–ª–∏ `/auth/refresh`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: `Bearer {token}`

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—ã —É—Å–ø–µ—à–Ω–æ:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (PostgreSQL, Redis)
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
   - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–∞–±–æ—Ç—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–∞–±–æ—Ç—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (JWT —Ç–æ–∫–µ–Ω—ã)

–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ

